{"ast":null,"code":"import Axios from\"axios\";import decode from\"jwt-decode\";//Update salon\nexport function LoginWithToken(client){console.log(\"eee\");return function(){return Axios.post(\"http://localhost:4000/auth/\",client,{withCredentials:true}).then(function(res){localStorage.setItem(\"token \",res.data);var decoded=decode(res.data);console.log(decoded);console.log(decoded.role);if(decoded.role===\"client\")window.location.pathname=\"/client\";else if(decoded.role===\"pro\")window.location.pathname=\"/pro\";});};}","map":{"version":3,"sources":["/home/othmen/Bureau/Mon Coiffure Chef d'eoeuvre/Réalisation et développement/frontend/src/actions/authentification.js"],"names":["Axios","decode","LoginWithToken","client","console","log","post","withCredentials","then","res","localStorage","setItem","data","decoded","role","window","location","pathname"],"mappings":"AAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,MAAP,KAAmB,YAAnB,CACA;AACA,MAAO,SAASC,CAAAA,cAAT,CAAwBC,MAAxB,CAAgC,CACrCC,OAAO,CAACC,GAAR,CAAY,KAAZ,EACA,MAAO,kBACLL,CAAAA,KAAK,CAACM,IAAN,CAAW,6BAAX,CAA0CH,MAA1C,CAAkD,CAChDI,eAAe,CAAE,IAD+B,CAAlD,EAEGC,IAFH,CAEQ,SAACC,GAAD,CAAS,CACfC,YAAY,CAACC,OAAb,CAAqB,QAArB,CAA+BF,GAAG,CAACG,IAAnC,EACA,GAAMC,CAAAA,OAAO,CAAGZ,MAAM,CAACQ,GAAG,CAACG,IAAL,CAAtB,CACAR,OAAO,CAACC,GAAR,CAAYQ,OAAZ,EACAT,OAAO,CAACC,GAAR,CAAYQ,OAAO,CAACC,IAApB,EACA,GAAID,OAAO,CAACC,IAAR,GAAiB,QAArB,CAA+BC,MAAM,CAACC,QAAP,CAAgBC,QAAhB,CAA2B,SAA3B,CAA/B,IACK,IAAIJ,OAAO,CAACC,IAAR,GAAiB,KAArB,CAA4BC,MAAM,CAACC,QAAP,CAAgBC,QAAhB,CAA2B,MAA3B,CAClC,CATD,CADK,EAAP,CAWD","sourcesContent":["import Axios from \"axios\";\nimport decode from \"jwt-decode\";\n//Update salon\nexport function LoginWithToken(client) {\n  console.log(\"eee\");\n  return () =>\n    Axios.post(\"http://localhost:4000/auth/\", client, {\n      withCredentials: true,\n    }).then((res) => {\n      localStorage.setItem(\"token \", res.data);\n      const decoded = decode(res.data);\n      console.log(decoded);\n      console.log(decoded.role);\n      if (decoded.role === \"client\") window.location.pathname = \"/client\";\n      else if (decoded.role === \"pro\") window.location.pathname = \"/pro\";\n    });\n}\n"]},"metadata":{},"sourceType":"module"}