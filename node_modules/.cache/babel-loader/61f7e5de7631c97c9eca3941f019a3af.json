{"ast":null,"code":"import Axios from \"axios\";\nimport decode from \"jwt-decode\"; //Update salon\n\nexport function LoginWithToken(client) {\n  console.log(\"eee\");\n  return () => Axios.post(\"http://localhost:4000/auth/\", client, {\n    withCredentials: true\n  }).then(res => {\n    localStorage.setItem((\"token\", \"rfdfed\"));\n    const decoded = decode(res.data);\n    console.log(decoded);\n    console.log(decoded.role);\n    if (decoded.role === \"client\") window.location.pathname = \"/client\";else if (decoded.role === \"pro\") window.location.pathname = \"/pro\";\n  });\n}","map":{"version":3,"sources":["/home/othmen/Bureau/Mon Coiffure Chef d'eoeuvre/Réalisation et développement/frontend/src/actions/authentification.js"],"names":["Axios","decode","LoginWithToken","client","console","log","post","withCredentials","then","res","localStorage","setItem","decoded","data","role","window","location","pathname"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,MAAP,MAAmB,YAAnB,C,CACA;;AACA,OAAO,SAASC,cAAT,CAAwBC,MAAxB,EAAgC;AACrCC,EAAAA,OAAO,CAACC,GAAR,CAAY,KAAZ;AACA,SAAO,MACLL,KAAK,CAACM,IAAN,CAAW,6BAAX,EAA0CH,MAA1C,EAAkD;AAChDI,IAAAA,eAAe,EAAE;AAD+B,GAAlD,EAEGC,IAFH,CAESC,GAAD,IAAS;AACfC,IAAAA,YAAY,CAACC,OAAb,EAAsB,SAAS,QAA/B;AACA,UAAMC,OAAO,GAAGX,MAAM,CAACQ,GAAG,CAACI,IAAL,CAAtB;AACAT,IAAAA,OAAO,CAACC,GAAR,CAAYO,OAAZ;AACAR,IAAAA,OAAO,CAACC,GAAR,CAAYO,OAAO,CAACE,IAApB;AACA,QAAIF,OAAO,CAACE,IAAR,KAAiB,QAArB,EAA+BC,MAAM,CAACC,QAAP,CAAgBC,QAAhB,GAA2B,SAA3B,CAA/B,KACK,IAAIL,OAAO,CAACE,IAAR,KAAiB,KAArB,EAA4BC,MAAM,CAACC,QAAP,CAAgBC,QAAhB,GAA2B,MAA3B;AAClC,GATD,CADF;AAWD","sourcesContent":["import Axios from \"axios\";\nimport decode from \"jwt-decode\";\n//Update salon\nexport function LoginWithToken(client) {\n  console.log(\"eee\");\n  return () =>\n    Axios.post(\"http://localhost:4000/auth/\", client, {\n      withCredentials: true,\n    }).then((res) => {\n      localStorage.setItem((\"token\", \"rfdfed\"));\n      const decoded = decode(res.data);\n      console.log(decoded);\n      console.log(decoded.role);\n      if (decoded.role === \"client\") window.location.pathname = \"/client\";\n      else if (decoded.role === \"pro\") window.location.pathname = \"/pro\";\n    });\n}\n"]},"metadata":{},"sourceType":"module"}