{"ast":null,"code":"import Axios from \"axios\";\nexport function LoginWithToken(user) {\n  return () => Axios.post(\"http://localhost:4000/auth/\", user, {\n    withCredentials: true\n  }).then(res => {\n    console.log(\"eeeeeeeee\", JSON.stringify(res.data.role));\n\n    if (JSON.stringify(res.data).role === \"client\") {\n      localStorage.setItem(\"client\", JSON.stringify(res.data));\n      window.location.pathname = \"/client\";\n    } else if (JSON.stringify(res.data).role === \"pro\") {\n      localStorage.setItem(\"pro\", JSON.stringify(res.data));\n      window.location.pathname = \"/pro\";\n    }\n  });\n}","map":{"version":3,"sources":["/home/othmen/Bureau/Mon Coiffure Chef d'eoeuvre/Réalisation et développement/frontend/src/actions/authentification.js"],"names":["Axios","LoginWithToken","user","post","withCredentials","then","res","console","log","JSON","stringify","data","role","localStorage","setItem","window","location","pathname"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,OAAO,SAASC,cAAT,CAAwBC,IAAxB,EAA8B;AACnC,SAAO,MACLF,KAAK,CAACG,IAAN,CAAW,6BAAX,EAA0CD,IAA1C,EAAgD;AAC9CE,IAAAA,eAAe,EAAE;AAD6B,GAAhD,EAEGC,IAFH,CAESC,GAAD,IAAS;AACfC,IAAAA,OAAO,CAACC,GAAR,CAAY,WAAZ,EAAyBC,IAAI,CAACC,SAAL,CAAeJ,GAAG,CAACK,IAAJ,CAASC,IAAxB,CAAzB;;AAEA,QAAIH,IAAI,CAACC,SAAL,CAAeJ,GAAG,CAACK,IAAnB,EAAyBC,IAAzB,KAAkC,QAAtC,EAAgD;AAC9CC,MAAAA,YAAY,CAACC,OAAb,CAAqB,QAArB,EAA+BL,IAAI,CAACC,SAAL,CAAeJ,GAAG,CAACK,IAAnB,CAA/B;AACAI,MAAAA,MAAM,CAACC,QAAP,CAAgBC,QAAhB,GAA2B,SAA3B;AACD,KAHD,MAGO,IAAIR,IAAI,CAACC,SAAL,CAAeJ,GAAG,CAACK,IAAnB,EAAyBC,IAAzB,KAAkC,KAAtC,EAA6C;AAClDC,MAAAA,YAAY,CAACC,OAAb,CAAqB,KAArB,EAA4BL,IAAI,CAACC,SAAL,CAAeJ,GAAG,CAACK,IAAnB,CAA5B;AACAI,MAAAA,MAAM,CAACC,QAAP,CAAgBC,QAAhB,GAA2B,MAA3B;AACD;AACF,GAZD,CADF;AAcD","sourcesContent":["import Axios from \"axios\";\n\nexport function LoginWithToken(user) {\n  return () =>\n    Axios.post(\"http://localhost:4000/auth/\", user, {\n      withCredentials: true,\n    }).then((res) => {\n      console.log(\"eeeeeeeee\", JSON.stringify(res.data.role));\n\n      if (JSON.stringify(res.data).role === \"client\") {\n        localStorage.setItem(\"client\", JSON.stringify(res.data));\n        window.location.pathname = \"/client\";\n      } else if (JSON.stringify(res.data).role === \"pro\") {\n        localStorage.setItem(\"pro\", JSON.stringify(res.data));\n        window.location.pathname = \"/pro\";\n      }\n    });\n}\n"]},"metadata":{},"sourceType":"module"}